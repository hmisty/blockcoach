<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">向比特币核心铭文漏洞提交了意见 | 刘教链</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://blockcoach.com/2023/202312/2023-12-11-A-comment-28408"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="向比特币核心铭文漏洞提交了意见 | 刘教链"><meta data-react-helmet="true" name="description" content="号外：教链内参12.10《铭文已被CVE和NVD漏洞数据库收录》"><meta data-react-helmet="true" property="og:description" content="号外：教链内参12.10《铭文已被CVE和NVD漏洞数据库收录》"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blockcoach.com/2023/202312/2023-12-11-A-comment-28408"><link data-react-helmet="true" rel="alternate" href="https://blockcoach.com/2023/202312/2023-12-11-A-comment-28408" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blockcoach.com/2023/202312/2023-12-11-A-comment-28408" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.18f1df96.css">
<link rel="preload" href="/assets/js/runtime~main.feb22224.js" as="script">
<link rel="preload" href="/assets/js/main.585e7b55.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="Blockcoach Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/favicon.ico" alt="Blockcoach Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">刘教链</b></a><a class="navbar__item navbar__link navbar__link--active" href="/intro">文集</a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/intro">intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/2020/202012/2020-12-30-debate-btc-no-value">2020</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/2021/202101/2021-01-02-2020-review">2021</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/2022/202201/2022-01-01-wonderful-2022">2022</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/2023/202301/2023-01-01-time-flies-2022">2023</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202301/2023-01-01-time-flies-2022">202301</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202302/2023-02-01-btc-close-23k">202302</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202303/2023-03-01-Jan-Feb-retro">202303</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202304/2023-04-01-72pct-q1">202304</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202305/2023-05-02-history-isa-loop">202305</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202306/2023-06-01-A-house-rep-passed">202306</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202307/2023-07-01-A-SEC-blackrock-fidelity">202307</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202308/2023-08-01-A-10yrs-jul-B">202308</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202309/2023-09-01-A-ten-yrs-augB">202309</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202310/2023-10-01-B-tenyrs9B">202310</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2023/202311/2023-11-01-B-tenyrs10B">202311</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/2023/202312/2023-12-01-B-10yrs11B">202312</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-01-B-10yrs11B">【实盘实证】十年之约＃12：熊市坚持加仓可以摊低成本</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-02-A-powell-btc-39k">市场反对鲍威尔，大饼迫近三万九</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-03-A-4w-morning">四万的黎明静悄悄</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-04-A-btc-40k">比特币鲜衣怒马</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-05-on-2024-halving">2024减半之辩：涨幅消退或者超级周期？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-06-A-10yrs12A">【十年之约＃13】比特币在呼吸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-07-A-kill-ordi">他想要杀死铭文</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-08-A-ordi-fool-consensus">ordi的博傻共识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-09-A-which-route">这一次，走哪个剧本？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-10-A-fed-balance-sheet">美联储的“真相”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/2023/202312/2023-12-11-A-comment-28408">向比特币核心铭文漏洞提交了意见</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-12-A-M0123">M0 M1 M2 M3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-13-A-fakecoins">李逵和李鬼</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-14-A-fed-last-fomc">美联储靴子落地</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-15-A-dongyuhui">董宇辉停播事件凸显旧式资本主义生产关系已不适应生产力发展</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-16-x-A-bitcoin-freedom">比特币即自由</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-17-A-bis-crypto">BIS：各国央行自2025年起将获准配置不超过2%的比特币</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-18-A-nft-volume">NFT交易量，比特币反超以太坊？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-19-A-alts-not-to-btc">山寨币之路不通往比特币</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-20-A-CFTC-binance-settlement">CFTC咬下币安长鹏28.5亿美刀肥肉</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-21-A-solana-pumps">Solana拉盘出信仰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-22-A-90pct-btc-profit">近9成BTC已盈利</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-23-x-A-btc-7-network-effects">比特币的7重网络效应</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-24-A-arthur-hayes-expression">Arthur Hayes点评美联储降息、比特币ETF、许可式DeFi和RWA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-25-A-SSE-SPX-DJI">上证指数跑赢标普500和道琼斯，真的吗？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-26-A-inscription-killing-btc">铭文杀死比特币</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-27-A-soft-landing-meme">矿工的紧箍咒</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-28-microstrategy-btc">已囤积189150枚BTC，微策略的策略会暴雷吗？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-29-A-zhaodong-case">赵东团队是如何利用虚拟货币非法买卖外汇的？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-30-A-inscription-better-nft">铭文是更好的NFT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2023/202312/2023-12-31-A-cryptojunks">小福利：迎元旦，CryptoJunks铭文免费打</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/2024/202401/2024-01-01-A-10yrs12B-happy-new-year">2024</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/manual/howto-oversea-appleid">manual</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="theme-doc-markdown markdown"><header><h1>向比特币核心铭文漏洞提交了意见</h1></header><p>号外：教链内参12.10《铭文已被CVE和NVD漏洞数据库收录》</p><hr><p>有关比特币铭文协议的危机还在继续发酵。10号，该协议所依赖的底层技术漏洞已经被CVE漏洞库分配了正式编号：CVE-2023-50428。这意味着，有关于该技术漏洞，在安全风险方面已经取得了初步共识。</p><p>有关围绕铭文协议的争论，还不了解情况的读者可以温习一下教链12.7文章《他想要杀死铭文》来快速回顾以下此事的来龙去脉。</p><p>在CVE中，对该技术漏洞描述为，通过把数据混淆为代码（例如，通过OP_FALSE OP_IF），绕过了数据载荷的尺寸限制，如2022、2023年铭文对该漏洞的广泛滥用所示。</p><p>所以，铭文只是该漏洞的一个“用例”。这个漏洞，本质上是关乎于是否容忍把大量不会得到执行的数据，塞进脚本代码，然后刻入到区块链上面去的问题。</p><p>因此，Luke Dashjr给这个技术漏洞分类的类型是「不完善的模式匹配」，漏洞影响则是「浪费资源以及拒绝服务攻击」。</p><p><img src="/assets/images/2023-12-11-A01-d4f6dde94bd8382ca9cb9ad274b9a69a.png"></p><p>在Luke Dashjr向Bitcoin Core提交的有关修复该漏洞的PR下面，笔者也给出了如下意见：</p><p><img src="/assets/images/2023-12-11-A02-96ee9e6cb28ae2ea3476156533d4f2a2.png"></p><p>「由于脚本中的混淆数据既没有经过验证，也没有通过共识来执行，而且这些数据在任何程度上最终都要依赖链外索引器来进行，因此一种更优雅的方法是将所有数据移出链外，让链外索引器来存储和处理，同时只在链上留下一个哈希值，这非常符合设计意图，同时将链上占用的空间降到最低。」</p><p>该意见的意思是，把完整数据放在链上，得到链上共识保证的只有数据的完整性，而这一点只需要用一个小得多的哈希就可以做到，同时，把完整数据嵌入，并不能摆脱对链外索引器以及社会共识的依赖，也就不能带来精简架构的好处，因此，把完整数据外移到链外，更符合架构设计原则。</p><p>我想，这一架构设计原则或许也是比特币的设计理念之一，那就是，比特币的链只应作为共识的载体，而不应作为全尺寸数据的载体。如果能在不破坏链上共识的情况下，最小化链上数据的尺寸，比如能用哈希值就不用全数据，那么就是符合这一设计理念的。</p><p>这一理念，把比特币和BSV、FIL、ICP等致力于把自己变成“云存储系统”的区块链项目泾渭分明地区分开来。</p><p>毕竟，共识的价值要远高于普通数据的价值。</p><p>比特币的链，只保存最浓缩、最精华的部分。</p><p>Ordinal协议和铭文，只需要变更一下技术方案，铭文2.0，就可以很好地和比特币这一理念相兼容。</p><p>其关键组件，就是一个能够存储铭文数据并进行索引的去中心化、分布式标准化索引器（indexer）。</p><p>与其较劲，或者陷入情绪之中，不如抓紧研发铭文2.0。谁先搞出来，也许就抢占了时代变局下的先机。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/2023/202312/2023-12-10-A-fed-balance-sheet"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">美联储的“真相”</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/2023/202312/2023-12-12-A-M0123"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">M0 M1 M2 M3</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 刘教链</div></div></div></footer></div>
<script src="/assets/js/runtime~main.feb22224.js"></script>
<script src="/assets/js/main.585e7b55.js"></script>
</body>
</html>