# 警惕！Bitcoin Core已合并PR#32406

正值BTC再上110k，市场欢庆之际，一场水面之下暗流涌动的大风暴或在悄然酝酿。今6.10教链内参《稳定币公链成为热门赛道》提到，就在若干小时前，最流行、最正统、市场占有率最高的比特币客户端软件Bitcoin Core的维护者之一Gloria Zhao对代码补丁PR#32406执行了合并操作，正式将其纳入了Bitcoin Core的主干代码。

至此，该补丁代码在下一个版本Bitcoin Core 30.0中发布几乎已成既定事实。时间上，据说大约在年底。

这个补丁PR#32406正是教链曾介绍过多次的、社区争议极大的、有关放开比特币OP_RETURN数据限制的具体实现方案之一。方案由开发者instagibbs在今年5月2号提交。尽管在GitHub PR评论区中，反对声浪甚大。但是，最终，6月9号晚间，Bitcoin Core维护者团队仍然决定不顾反对声音，执意推动合并。

此前，教链就此争论已经写过两篇文章介绍过，分别是2025.5.8教链文章《OP_RETURN：最严重的BTC争议之一》，以及2025.6.8文章《比特币核心开发与交易转发策略》。

教链不由地担心，此次Bitcoin Core维护者团队强行为之，是否会造成社区共识撕裂，进而对BTC的价值造成更加深重的冲击和破坏，就像2017年下半年区块扩容之争硬分叉给BTC造成了短期的强烈阵痛那样。现在还无法准确评估，此次事件所造成的影响会有多大，冲击会持续多久，是否会成为BTC进入深熊的诱因之一，等等问题。

最坏的情况，BTC社区共识大破裂，将会给空头唱空BTC归零提供绝佳的叙事题材。（未必会发生）

当然，目前看起来市场反应还想当平淡。反对者和支持者仍然可以暂时和平共处，替代客户端（比如Knots）和Core客户端在协议上依然可以互联互通，没有在技术层面造成硬分叉那么严重的后果。这可能是因为本次被合并的补丁PR#32406采取了“温水煮青蛙”或者说“切香肠”的渐进式推进策略：先把限制开关标记成废弃参数且默认不开启，若用户执意开启则警告用户不要使用；后续版本再谋求彻底删除，让用户无法打开限制。

或许也有出现皆大欢喜的可能性，即限制取消了，比特币网络获得了丰富的用例，而且没有显著增加滥用，且BTC的货币价值不仅没有被损害反而得到了增益，一切都变得更美好了。（但这个攻击向量会始终存在）

对于此次执行合并，执行人Gloria Zhao给出的解释如下：

「在权衡支持/反对此变更的技术论点并考虑反对意见[0]后，我认为该提案已具备合并条件。以下是我手写的总结及理由分析。我会尽可能附上（非穷尽的）参考资料链接，若您希望不带个人偏见地分析原始材料，请直接查阅。

该提案的概念已在以下渠道讨论：#32359、#28130、#32381、邮件列表/Google群组[1]、Delving[2][3][4]、Stacker News[5]、Twitter等。

本PR的主要动机是修正数据存储技术的危害性与标准性错配。它通过开放（可修剪的）OP_RETURN选项，避免数据被塞入不可修剪的输出中。尽管支持者并不热衷数据存储这一用例，但现有标准方法（如裸公钥）会导致UTXO集膨胀，长期增加网络成本。这种担忧并非理论假设，已有设计案例证明更危险的技术被滥用[1]。

另一个动机是支持比特币去中心化的区块空间市场，避免交易转发策略比实际挖矿标准更严格[14]。OP_RETURN限制是极少数仅用于抑制使用的策略规则。这些限制迫使不愿膨胀UTXO集的用户转向直接提交矿工，损害内存池效用并加剧中心化压力。这与将-mempoolfullrbf默认值改为1的逻辑一致。

具体而言，本PR有助于避免大量经济交易通过直接提交进行。当大型经济主体（L2、交易所等）为挖矿非标准交易而与矿工建立直接关系时，我们会更接近这种局面。若广泛使用，中心化提交服务会破坏PoW共识的无许可设计、损害交易广播的抗审查性与隐私性，并破坏网络多年的快速区块传播……同时却无法阻止我们不希望看到的非标准交易。此类服务现已存在并被使用；值得尝试减少其使用诱因。[6][7]

这些是更改默认值的充分理由。我也认为所有反对意见已得到充分回应[0]。总结如下：

(1) 部分用户希望保留控制节点允许哪些数据类交易的选项。

本PR（替代#32359）未移除-datacarrier或-datacarriersize选项。与许多说法相反，该PR不会强制用户接受更大的数据载体交易。设置-datacarrier=0仍可关闭功能，-datacarriersize=83可恢复原始默认值（相同数据量但分散至多个输出）。

部分开发者仍认为应移除该选项，但已达成共识至少等待1个版本周期（如-mempoolfullrbf的做法）。未设定具体移除时间表。

本PR将这些选项标记为"弃用"：仍可直接使用但会显示警告。这基于开发哲学——用户选项应附带明确使用建议，若无建议则应弃用。简言之，"不要给用户留隐患"。并非所有贡献者都认同该哲学，但讨论可延后至具体移除提案时。

(2) 反对比特币网络的"任意数据存储用例"（此处不列举大量推文，但我已查阅）[11][12][13]

(2a) 认为比特币核心默认策略应阻止特定用例。

比特币核心无法阻止特定交易被挖出。它是用户（包括矿工）自愿运行的软件。要求其阻止特定交易反映了对开源软件用户与开发者关系的误解。

早期当矿工与用户软件更同质化时，内存池策略能主动塑造钱包行为。一旦交易被常规挖出，限制性策略只会使节点对后续区块中的交易"失明"。这正是#30493将-mempoolfullrbf默认值改为1的理由。

(2b) 即使无法阻止用例，也应拒绝转发非货币用途交易以示抵制。

首先，如上所述，使节点对可能被挖出的交易"失明"存在显著危害。

其他比特币客户端将过滤非货币用途作为开发重点，这是他们的权利。也有人提交PR试图在比特币核心内"修复过滤器"（如#28408、#29520、#29187）。

这些PR的反馈表明，贡献者普遍对用内存池策略"过滤"交易存在争议。

简言之：此类策略规则无法全面实施、不适合协议层代码、也无法对抗经济需求。"垃圾"应用依赖炒作周期且可瞬间改变存储方式；策略变更需至少6个月部署且采用更慢（如果有）。最终，为抗审查支付而投入比特币的人，未必愿编写基于用例评判交易的代码。

虽然比特币核心没有中央权威，但其方向由贡献者决定，而他们大多不认同此优先级[14]。

类比：其他客户端可专注特定硬件优化并放弃兼容性；比特币核心贡献者因追求节点易用性不会这么做。其他项目或优先快速响应漏洞并内置自动更新；比特币核心贡献者可能拒绝这种开发者-用户关系。（这些仅为个人推测的示例）

(2c) 担忧这会鼓励更多任意数据存储——或因成本降低、或因标准性代表"合规"、或存在故意启用的隐秘动机。"过滤器有效，故不应移除"。

本PR目的不是鼓励用OP_RETURN填塞区块，正如-mempoolfullrbf默认值改为1不表示应欺诈零确认商户。各平台评论压倒性支持比特币货币用例，即便在认为数据存储有用的人群中亦然。用户应选择通过实际工作（而非社交媒体表态）证明货币用例承诺的项目。

链上成本未变。OP_RETURN仍比非比特币永久存储方案昂贵，且比享受隔离见证折扣的常规支付成本更高。虽然使用私有内存池服务的（微小）附加成本可能节省，但关键是要确保矿工不会从中获取超额利润。

(3) 认为大额OP_RETURN是垃圾/有害/滥用/危及网络，应据此限制转发[15]。

策略应阻止的交易类型包括：可升级字段、安全与DoS问题、影响激励兼容性评估的交易[16][17]。OP_RETURN验证成本低、不影响激励评估、无UTXO集污染可能，故不符合标准。人们似乎只是用"垃圾"错误指代不喜欢的交易[18]。

最初设定限制是为保护网络资源——当时这些输出不可修剪、区块基本空置且1sat/vB近乎免费[19]。如今环境不同：可修剪输出对网络成本较低，且经济因素已有效抑制用OP_RETURN填塞区块。

比特币的主要代价是声誉影响（多数人厌恶OP_RETURN的流行用法）。但这远不及紧凑区块重建和内存池效用等重要目标。

(4) 考虑仅小幅提高限制（例如使OP_RETURN成本高于铭文[20][21]）。

回归基本原则——除非涉及DoS等理由，否则策略不应比矿工确认标准更严格[22]，小幅调整无法实现本PR目标。」
