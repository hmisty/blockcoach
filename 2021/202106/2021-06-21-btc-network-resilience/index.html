<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">比特币是如何自适应算力骤降冲击的？ | 刘教链</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://blockcoach.com/2021/202106/2021-06-21-btc-network-resilience"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="比特币是如何自适应算力骤降冲击的？ | 刘教链"><meta data-react-helmet="true" name="description" content="(图片来源于网络)"><meta data-react-helmet="true" property="og:description" content="(图片来源于网络)"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blockcoach.com/2021/202106/2021-06-21-btc-network-resilience"><link data-react-helmet="true" rel="alternate" href="https://blockcoach.com/2021/202106/2021-06-21-btc-network-resilience" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blockcoach.com/2021/202106/2021-06-21-btc-network-resilience" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.18f1df96.css">
<link rel="preload" href="/assets/js/runtime~main.15f33346.js" as="script">
<link rel="preload" href="/assets/js/main.cc36d2ba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="Blockcoach Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/favicon.ico" alt="Blockcoach Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">刘教链</b></a><a class="navbar__item navbar__link navbar__link--active" href="/intro">文集</a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/intro">intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/2020/202012/2020-12-30-debate-btc-no-value">2020</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/2021/202101/2021-01-02-2020-review">2021</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202101/2021-01-02-2020-review">202101</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202102/2021-02-01-disruptVC">202102</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202103/2021-03-01-04-3-notes">202103</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202104/2021-04-01-xy=k">202104</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202105/2021-05-01-satoshihero">202105</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/2021/202106/2021-06-01-no-easy-run">202106</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-01-no-easy-run">从来就没有什么一帆风顺</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-02-enclosed-city">币市围城</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-03-btcmining-paper">比特币挖矿的三种调控政策研究</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-04-btc-die">春江水暖鸭先知</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-05-like-cloud-dog">如白云苍狗</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-06-long-see">风物长宜放眼量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-07-10M-chars">1000万字</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-08-btc-not-scam">比特币是庞氏骗局吗？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-09-predict-explain">预测和解释</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-10-fire-like-stars">星星之火，可以燎原</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-11-less-news-more-study">少看新闻，多做学问</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-12-leaking-boat">漏船载酒泛中流</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-13-inflation-price">通胀与物价</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-14-still-bull">我们仍处于本轮牛市之中</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-15-no-regret">坚定持仓，不负韶华</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-16-ordinary-heart">要有一颗平凡心</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-17-fomc-june">通胀未失控，联储不加息</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-18-time-flies">上善若水</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-19-all-are-lagged-index">一切技术指标都是滞后指标</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-20-miner-night-hard-sleep">矿夜难眠</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/2021/202106/2021-06-21-btc-network-resilience">比特币是如何自适应算力骤降冲击的？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-22-river-end-cloud-float">行到水穷处，坐看云起时</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-23-powell-helps">鲍威尔助攻了</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-24-none-talking-foreverbull">无人再谈“永恒牛市”</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-25-rain-and-trade">下雨和交易</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-26-ceasefire">偃旗息鼓，鸣金收兵</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-27-kill-horse">杀君马者道旁儿</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-28-btc-metaverse">比特币的元宇宙</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-29-is-lp-fool">LP是傻瓜吗？</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2021/202106/2021-06-30-little-thoughts">小杂感</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202107/2021-07-01-just-poem">202107</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202108/2021-08-01-not-say-early">202108</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202109/2021-09-01-eth-doom-chariot">202109</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202110/2021-10-01-thank-you">202110</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202111/2021-11-01-btc13yrs">202111</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" tabindex="0" href="/2021/202112/2021-12-01-powell-to-accelerate">202112</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/2022/202201/2022-01-01-wonderful-2022">2022</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/2023/202301/2023-01-01-time-flies-2022">2023</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/2024/202401/2024-01-01-A-10yrs12B-happy-new-year">2024</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/manual/howto-oversea-appleid">manual</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="theme-doc-markdown markdown"><header><h1>比特币是如何自适应算力骤降冲击的？</h1></header><p><img src="/assets/images/20210621-0536258b3226374779b774b702cb1887.jpg"></p><p>(图片来源于网络)</p><p>币市最近低空焦灼，阴晴难定。各KOL已经全然失了方向感，可观察到的大部分群都成了热锅蚂蚁、无头苍蝇。市场的牛熊开始以“周”为长度进行转换。忽而蹭、蹭、蹭上涨5、6日，便一片欢喜，坚定看好后市。忽而duang、duang、duang下跌5、6日，便一片悲戚，以为熊之将至。后市之目标价位，欢喜时，便看高到10万、20万，悲戚时，便看低到2万、1万。</p><p>虽然距离519刚刚过去一个月，但是市场已经悄然在发生一些肉眼可见的变化。大V观点在纷纷转阴。很多519之后唱多的，现在开始唱空，或者不再唱多。对后市走熊的判断一个比一个更悲观，目标价一个比一个更低。一些嚷嚷着死扛到底的小韭菜开始慢慢受不了，开始割肉认输。合约市场的空头力量开始聚集，多头力量开始下降。要知道，合约的多空是空手套白狼。所以从本质上讲，合约多头是现货多头（满仓持币者）的敌人，因为前者是市场上涨的包袱，只要合约多头很多，市场就涨不起来；同理，合约空头是现货空头（空仓持币者）的敌人，因为前者是市场下跌的障碍，只要合约空头富集，市场就跌不下去。</p><p>在前日隔夜的“620大断电”事件中，比特币网络经受了又一次算力骤降的冲击。其简单情况，刘教链公众号6/20文《矿夜难眠》已有速写。在这一次算力波动冲击事件中，比特币网络体现出了应有的适应性和恢复力（resilience）。此次网络算力骤降，全网算力瞬间降低20%左右。自5月上旬达到170E～200E的高点之后，过去一个月以来，随着算力强制去中心化的帷幕开启，至620全网算力已跌破100E。目前，已有效回升至100E以上。那么，比特币是如何自适应这种大幅的算力波动冲击的呢？</p><p>众所周知，比特币网络会自动监测出块速度的变化，而出块速度则由网络的难度值进行调节。这个难度值是一个动态变化的数字，如果出块速度偏快了，就调高难度值，如果出块速度偏慢了，就调低难度值。重点是，在无人协调的情况下，分散全球的节点是如何一致调节这个难度值的呢？这就是把难度值及其调节内建到共识机制当中去。所有节点都遵循同一个出块速度测算以及难度值调整的规则。如果某个节点未能及时按照这套规则调整其难度值，则它所产生的区块就不会被其他节点所认可，会被丢弃从而浪费掉它的算力。它也就失去了区块奖励和手续费的收入，这种经济激励促使节点认真遵守规则。</p><p>对于出块速度的测算和难度值的调整遵从中本聪2008年在比特币白皮书中第4小节“工作量证明”中最后一段所写的方案：“为了抵消硬件的不断提速以及运行节点的收益随时间的不断变化，工作量证明的难度将取决于一个以每小时平均区块数量为目标的移动平均值。如果区块产生的太快，难度就会增加。”</p><p>在代码实现中，出块速度移动平均值的测算窗口是回溯前2016个区块，每2016个区块重新测算和调整一次（刘教链注：中本聪的代码里其实有一个小bug，就算计算时少算了一个区块，这个bug叫做off-by-one，一直未被修复）。以每个区块的设计时间间隔大概10分钟计算，这个窗口期就是大约14天也就是刚好2周（两个星期）。用这个目标窗口期时长除以实际窗口期时长，就可以得到难度调节的系数。比如因为算力下降，每个区块出块速度变慢，实际用了3周时间才产出了2016个区块，那么难度调节系数就是2除以3等于2/3，就在下一个窗口内把难度值乘以2/3，难度下降。如果难度调节系数过低，低于1/4，或者过高，高于4，那么就不能忽然做如此剧烈的调整，此时就会最小取到1/4，最大取到4。</p><p>在这次算力冲击中，我们就看到，算力骤降之后，网络出块速度立刻发生了显著的减缓。原本每小时大约应该产生6个区块，现在下降到4-5个。所以，虽然每个区块的区块奖励也就是挖矿的产量并未发生变化，但是从单位时间的产量而言，是发生了减少。不过coinbase的新币都是有一个冷却期的，矿工并不能立刻把新挖出来的币拿来砸盘。</p><p>网络会耐心等待矿工完成算力的搬迁和恢复工作。以两周为一个时间节点。如果不成，难度值就会继续降低，这会鼓励仍在坚持生产的矿工有更大的几率获得比特币，从而激励矿工尽快完成搬迁和恢复。</p><p>比特币通过二级市场完成对矿工工作的支付，矿工的代价就是割肉卖币。这两件事本就是一件事的两种视角、两种说法。有全球买家在二级市场上的支持，矿工才能顺利卖出自己手中的币，获得算力搬迁和恢复工作所需的资金。所以说，是价格决定算力，而不是算力决定价格。关于这一点，中本聪早在2010年2月21日论坛发言时就已经指出：“任何商品的价格都趋向于生产成本。如果价格低于成本，那么生产就会放慢速度。如果价格高于成本，则可以通过生产和出售更多产品来获利。同时，增加的产能(算力)将增加难度，将生产成本推向价格。”“在后面的几年中，当生成的新币只占现有总供应量的一小部分时，市场价格将决定生产成本，而不是反过来。”</p><p>(公众号：刘教链。知识星球：公众号回复“星球”)
(免责声明：本文内容均不构成任何投资建议。加密货币为极高风险品种，有随时归零的风险，请谨慎参与，自我负责。)</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/2021/202106/2021-06-20-miner-night-hard-sleep"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">矿夜难眠</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/2021/202106/2021-06-22-river-end-cloud-float"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">行到水穷处，坐看云起时</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 刘教链</div></div></div></footer></div>
<script src="/assets/js/runtime~main.15f33346.js"></script>
<script src="/assets/js/main.cc36d2ba.js"></script>
</body>
</html>